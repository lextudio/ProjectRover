<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:options="clr-namespace:ICSharpCode.ILSpy.Options"
             xmlns:controls="clr-namespace:ProjectRover.Controls;assembly=ProjectRover"
             x:Class="ICSharpCode.ILSpy.Options.DecompilerSettingsPanel"
             x:DataType="options:DecompilerSettingsViewModel">
  <StackPanel Orientation="Vertical">
    <ItemsControl ItemsSource="{Binding Settings}">
      <ItemsControl.ItemTemplate>
        <DataTemplate DataType="options:DecompilerSettingsGroupViewModel">
          <controls:GroupBox>
            <controls:GroupBox.Header>
              <CheckBox Content="{Binding Category}"
                        IsChecked="{Binding AreAllItemsChecked, Mode=TwoWay}"
                        IsThreeState="True"
                        FontSize="12"
                        FontWeight="Bold" />
            </controls:GroupBox.Header>
            <Grid Margin="12">
              <ItemsControl ItemsSource="{Binding Settings}">
                <ItemsControl.ItemTemplate>
                  <DataTemplate DataType="options:DecompilerSettingsItemViewModel">
                    <CheckBox Margin="24,12,0,0"
                              IsChecked="{Binding IsEnabled}"
                              Content="{Binding Description}" />
                  </DataTemplate>
                </ItemsControl.ItemTemplate>
              </ItemsControl>
            </Grid>
          </controls:GroupBox>
        </DataTemplate>
      </ItemsControl.ItemTemplate>
    </ItemsControl>
  </StackPanel>
</UserControl>
